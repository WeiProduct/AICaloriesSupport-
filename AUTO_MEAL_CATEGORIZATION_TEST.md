# 🍽️ 自动餐食分类功能测试指南

## 🎯 功能概述

应用现在会根据添加食物的时间自动分类到相应的餐食：
- **早餐** 🌅：6:00 - 10:00（可自定义）
- **午餐** ☀️：11:00 - 14:00（可自定义）
- **晚餐** 🌙：17:00 - 20:00（可自定义）
- **零食** 🍿：其他所有时间

## 📋 测试清单

### 1️⃣ 餐食时间设置功能测试

#### 进入设置页面
- [ ] 打开应用 → 底部"我的"标签 → "餐食时间设置"
- [ ] 确认页面显示当前的默认时间段：
  - 早餐：6:00 - 10:00
  - 午餐：11:00 - 14:00
  - 晚餐：17:00 - 20:00

#### 修改时间设置
- [ ] 修改早餐时间为 7:00 - 9:00
- [ ] 修改午餐时间为 12:00 - 13:30
- [ ] 修改晚餐时间为 18:00 - 21:00
- [ ] 点击"保存"
- [ ] 确认时间段预览更新正确

#### 重置功能测试
- [ ] 点击"重置为默认时间"
- [ ] 确认弹出确认对话框
- [ ] 点击"重置"，确认时间恢复默认值

### 2️⃣ 自动分类功能测试

#### 测试方法
为了测试不同时间段的自动分类，您可以：
1. 修改手机系统时间到对应时间段
2. 或者等待到实际的餐食时间进行测试

#### 早餐时间段测试（6:00-10:00）
- [ ] 将系统时间设为 8:00
- [ ] 打开拍照识别功能
- [ ] 拍摄或选择食物照片
- [ ] 点击"添加所有食物到今日饮食"
- [ ] 检查"今日餐食"部分，确认食物出现在**早餐**分类下

#### 午餐时间段测试（11:00-14:00）
- [ ] 将系统时间设为 12:30
- [ ] 重复拍照识别流程
- [ ] 确认食物自动归类到**午餐**分类

#### 晚餐时间段测试（17:00-20:00）
- [ ] 将系统时间设为 19:00
- [ ] 重复拍照识别流程
- [ ] 确认食物自动归类到**晚餐**分类

#### 零食时间段测试（其他时间）
- [ ] 将系统时间设为 15:00（下午3点）
- [ ] 重复拍照识别流程
- [ ] 确认食物自动归类到**零食**分类

### 3️⃣ 手动添加食物测试

#### 测试添加单个食物
- [ ] 在识别结果页面点击单个食物
- [ ] 确认默认餐食类型与当前时间匹配
- [ ] 可以手动修改餐食类型
- [ ] 保存后确认食物出现在正确分类下

### 4️⃣ 自定义时间段测试

#### 修改时间段并测试
- [ ] 进入餐食时间设置
- [ ] 将早餐时间改为 7:00 - 11:00
- [ ] 保存设置
- [ ] 将系统时间设为 10:30
- [ ] 拍照添加食物
- [ ] 确认食物归类到早餐（而非原来的午餐）

### 5️⃣ 边界时间测试

#### 测试时间边界
- [ ] 设置系统时间为 10:00（早餐结束时间）
- [ ] 添加食物，确认归类正确
- [ ] 设置系统时间为 10:01（早餐结束后）
- [ ] 添加食物，确认归类到零食

#### 测试跨夜时间（如果需要）
如果设置了跨午夜的时间段（如 23:00 - 01:00）：
- [ ] 设置相应时间
- [ ] 测试23:30和00:30的分类
- [ ] 确认跨夜逻辑正确

### 6️⃣ 界面显示测试

#### 今日餐食页面
- [ ] 确认各餐食显示正确的时间段（动态更新）
- [ ] 例如：早餐 🌅 6:00 - 10:00
- [ ] 如果修改了设置，确认时间段同步更新

#### 餐食卡片显示
- [ ] 每个餐食卡片显示正确的emoji和时间
- [ ] 零食显示"全天"而非具体时间段

## 🐛 常见问题排查

### 时间不对应
- 检查手机系统时间是否正确
- 确认时区设置
- 重启应用后重试

### 设置未保存
- 确认点击了"保存"按钮
- 检查应用权限
- 重新打开设置页面确认

### 分类错误
- 确认当前时间在正确的时间段内
- 检查是否有时间段重叠
- 查看Xcode控制台的调试信息

## ✅ 测试通过标准

1. **时间设置**：可以成功修改和保存餐食时间
2. **自动分类**：在各个时间段添加的食物都归类正确
3. **界面同步**：时间段修改后界面显示正确更新
4. **边界处理**：时间边界处理正确，无分类错误
5. **用户体验**：整个流程流畅，符合用户预期

## 📊 测试报告模板

```
测试日期: ____
测试人员: ____
测试设备: ____

功能测试结果:
[ ] 餐食时间设置: 通过/失败
[ ] 早餐时间自动分类: 通过/失败
[ ] 午餐时间自动分类: 通过/失败
[ ] 晚餐时间自动分类: 通过/失败
[ ] 零食时间自动分类: 通过/失败
[ ] 自定义时间段: 通过/失败
[ ] 边界时间处理: 通过/失败
[ ] 界面显示: 通过/失败

发现的问题:
1. 
2. 
3. 

总体评价: ✅完全通过 / ⚠️需要修复 / ❌功能异常
```

完成测试后，您的应用将具备智能的时间感知餐食分类功能！